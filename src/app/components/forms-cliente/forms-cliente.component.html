<div class="container-forms">
  <div class="toolbar-container">
    <div id="title">Cadastro de Cliente</div>
    <button (click)="destroyComponent()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="content-forms-container">
    <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="fill">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="nome" />
        <mat-error *ngIf="formulario.get('nome')?.hasError('required')">O nome é obrigatório.</mat-error>
        <mat-error *ngIf="formulario.get('nome')?.hasError('maxlength')">Máximo de 100 caracteres.</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" />
        <mat-error *ngIf="formulario.get('email')?.hasError('required')">O email é obrigatório.</mat-error>
        <mat-error *ngIf="formulario.get('email')?.hasError('email')">Formato de email inválido.</mat-error>
        <mat-error *ngIf="formulario.get('email')?.hasError('maxlength')">Máximo de 100 caracteres.</mat-error>
      </mat-form-field>

      <div class="field-group">
        <mat-form-field appearance="fill">
          <mat-label>Idade</mat-label>
          <input matInput type="number" formControlName="idade" />
          <mat-error *ngIf="formulario.get('idade')?.hasError('required')">A idade é obrigatória.</mat-error>
          <mat-error *ngIf="formulario.get('idade')?.hasError('min')">A idade deve ser acima de 18.</mat-error>
          <mat-error *ngIf="formulario.get('idade')?.hasError('pattern')">Idade inválida.</mat-error>
        </mat-form-field>

        <mat-form-field hintLabel="Max 10 characters" appearance="fill">
          <mat-label>Número da Conta</mat-label>
          <input matInput type="text" maxlength="10" (input)="onInput($event)" formControlName="numeroConta" />
          <mat-hint align="end">{{value().length}}/10</mat-hint>
          <mat-error *ngIf="formulario.get('numeroConta')?.hasError('required')">O número da conta é obrigatório.</mat-error>
          <mat-error *ngIf="formulario.get('numeroConta')?.hasError('maxlength')">Máximo de 10 caracteres.</mat-error>
          <mat-error *ngIf="formulario.get('numeroConta')?.hasError('pattern')">Número da conta inválido.</mat-error>
        </mat-form-field>
      </div>

      <button mat-raised-button color="primary" type="submit" [disabled]="formulario.invalid">Enviar</button>
    </form>
  </div>
</div>
